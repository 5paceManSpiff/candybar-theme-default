@import url('http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css')

global-reset()
reset-html5()

// Global settings
font-main = sans-serif
width = 100%
height = 26px
progress-size = 50px
urgent-color = #f30

@keyframes bubble
	0%
		transform: scale(0)
	50%
		transform: scale(2)
	100%
		transform: scale(1)

@keyframes bg-move
	0%
		background-position: 0 0
	100%
		background-position: progress-size progress-size

@keyframes urgent-pulse
	0%
		background: darken(urgent-color, 20)
		text-shadow: 0 0 10px urgent-color, 0 0 5px urgent-color, 0 0 5px urgent-color, 0 0 2px #fff
	40%
		background: darken(urgent-color, 30)
		text-shadow: none
	80%, 100%
		background: darken(urgent-color, 20)
		text-shadow: 0 0 10px urgent-color, 0 0 5px urgent-color, 0 0 5px urgent-color, 0 0 2px #fff

html, body
	font: 14px font-main
	background: #000
	cursor: default
	-webkit-user-select: none
	text-shadow: 0 1px 0 rgba(#000, .8)
	overflow: hidden

[ng-cloak]
	display: none !important

background-blur(blur-radius, grayscale, overlay-color, overlay-opacity)
	background-position: blur-radius blur-radius
	top: -(blur-radius)
	left: -(blur-radius)
	width: @width + (blur-radius * 4)
	height: @height + (blur-radius * 4)
	-webkit-filter: blur(blur-radius) grayscale(grayscale)
	&:after
		position: absolute
		top: 0
		left: 0
		width: 100%
		height: 100%
		content: ''
		background: linear-gradient(top, rgba(overlay-color, overlay-opacity), rgba(overlay-color, overlay-opacity + .4))

#statusline-loading
	width: 50%
	height: (height / 2)
	position: absolute
	top: (height / 4)
	left: 10px
	content: ''
	z-index: 100
	background: rgba(#fff, .1) linear-gradient(-45deg, rgba(#fff, .1) 25%, transparent 25%, transparent 50%, rgba(#fff, .1) 50%, rgba(#fff, .1) 75%, transparent 75%, transparent)
	background-size: progress-size progress-size
	border-radius: (height / 2)
	animation: bg-move 2s linear infinite

#statusline-bg
	position: absolute
	width: width
	height: height
	top: 0
	left: 0
	z-index: 10
	background: #000 linear-gradient(top, rgba(#333, .8), rgba(#000, .8))
	&.dark-bg
		background-blur(4px, 0, #000, .2)
	&.medium-bg
		background-blur(4px, 100%, #000, .4)

#statusline
	position: relative
	z-index: 11
	width: width
	height: height
	line-height: height
	color: #fff

	.widget, div, ul, li
		display: inline-block
		vertical-align: top
		white-space: nowrap

	i
		display: inline-block
		background: linear-gradient(top, rgba(#fff, 1), rgba(#fff, .7))
		text-shadow: none
		-webkit-background-clip: text
		-webkit-text-fill-color: transparent
		margin: 0 5px 0 0

	#left
		float: left
		& > div:not(:first-child),
		& > ul:not(:first-child)
			margin: 0 0 0 20px

	#right
		float: right
		.widget
			position: relative
			margin: 0 0 0 10px
			padding: 0 0 0 10px
			border-left: 1px solid rgba(#fff, .1)
			&:before
				display: inline-block
				height: height
				width: 1px
				background: rgba(#000, .8)
				content: ''
				position: absolute
				left: -2px
				top: 0
			&:last-child
				margin-right: 10px

	#tags
		li
			padding: 0 10px
			cursor: pointer
			position: relative
			height: height
			line-height: height
			color: rgba(#fff, .9)
			text-shadow: 0 -1px 1px rgba(#000, 1)
			&:hover
				border-width = 2px
				background: linear-gradient(bottom, transparent, transparent (height - border-width), rgba(#fff, .5) (height - border-width), rgba(#fff, .6))
				color: #fff
			&.urgent
				animation: urgent-pulse 1.5s linear infinite
				color: #fff !important
				font-weight: bold
			&.has-windows
				&:after
					position: absolute
					content: ''
					width: 5px
					height: 5px
					top: 1px
					right: 1px
					background: linear-gradient(45deg, transparent, transparent, rgba(#fff, .5) 50%, rgba(#fff, .7))
			&.selected
				background: linear-gradient(top, rgba(#fff, .9), rgba(#fff, .7))
				color: rgba(#000, .9)
				text-shadow: 0 1px 0 rgba(#fff, .7)
				font-weight: bold
				&.has-windows
					&:after
						background: linear-gradient(45deg, transparent, transparent, rgba(#000, .5) 50%, rgba(#000, .7))

	#window
		max-width = 500px
		max-width: max-width
		overflow: hidden
		text-overflow: clip
		-webkit-mask-image: -webkit-linear-gradient(left, rgba(#000, 1), rgba(#000, 1) max-width - 50px, rgba(#000, 0) max-width)

	#date
		color: #eee

	#time
		font-weight: bold
		margin: 0 10px 0 0

	#notification
		error-col = #d32
		warning-col = #e92
		margin: 0 10px 0 0 !important
		li
			height: height - 4px
			cursor: pointer
			line-height: height - 4px
			text-align: center
			margin: 2px 0 0 5px
			animation: bubble 0.3s ease
			padding: 0 7px
			border-radius: 2px
			i.icon
				font-size: 20px
				margin: 2px 0 0 0
			&.error i
				background: linear-gradient(top, lighten(error-col, 20), error-col)
				-webkit-background-clip: text
				-webkit-text-fill-color: transparent
			&.warning i
				background: linear-gradient(top, lighten(warning-col, 20), warning-col)
				-webkit-background-clip: text
				-webkit-text-fill-color: transparent
			.content
				max-width: 0
				overflow: hidden
				transition: max-width .2s
				opacity: 0
			&:hover
				&.error i, &.warning i
					background: linear-gradient(top, rgba(#fff, 1), rgba(#fff, .7))
					-webkit-background-clip: text
					-webkit-text-fill-color: transparent
				box-shadow: inset 0 -1px 1px 0 rgba(#000, .2), inset 0 1px 1px 0 rgba(#fff, .2)
				.content, .content *
					display: inline-block
				.content
					text-align: left
					opacity: 1
					max-width: 300px
					transition: max-width .8s, opacity .5s
				&.error
					background: linear-gradient(top, error-col, darken(error-col, 10))
				&.warning
					background: linear-gradient(top, warning-col, darken(warning-col, 10))
				.icon
					margin: 0 5px 0 0
					font-size: 14px
				.close
					opacity: .5
					margin: 0 0 0 5px
				.summary
					font-weight: bold
				.body
					margin: 0 0 0 5px

	#player
		i.fa
			margin: 0 5px
		.progress
			background: linear-gradient(top, rgba(#fff, .2), rgba(#fff, .4))
			border-radius: 2px
			width: 100px
			height: 4px
			position: relative
			margin: 11px 10px 0 10px
			.bar
				height: 4px
				border-radius: 2px
				background: linear-gradient(top, rgba(#fff, .7), rgba(#fff, .4))
				position: absolute
		.time
			margin: 0 10px
			.total
				font-size: 10px
				opacity: .8
				&:before
					content: ' / '
		.song
			width = 300px
			margin: 0 10px
			max-width: width
			height: height
			line-height: height
			overflow: hidden
			text-overflow: clip
			-webkit-mask-image: -webkit-linear-gradient(left, rgba(#000, 1), rgba(#000, 1) width - 30px, rgba(#000, 0) width)
			.artist
				display: inline
				opacity: .8
				&:after
					font-family: 'FontAwesome'
					content: '\f105'
					margin: 0 5px
					opacity: .6
			.title
				display: inline


	#volume
		.progress
			background: linear-gradient(top, rgba(#000, .5), rgba(#000, 0))
			box-shadow: inset 0 1px 1px #000, inset 0 -1px 1px rgba(#fff, .4)
			border-radius: 5px
			width: 100px
			height: 14px
			position: relative
			top: 7px
			margin: 0 0 0 5px
			.bar
				height: 10px
				border-radius: 5px
				col = #aaa
				background: linear-gradient(top, col, darken(col, 20))
				position: absolute
				top: 2px
				left: 2px
				box-shadow: inset 0 1px 1px lighten(col, 10), inset 0 -1px 1px darken(col, 20)

	#weather
		.icon
			height: 20px
			width: 20px
			vertical-align: middle
		.temp
			margin: 0 0 0 5px
			&.c:after
				content: '\00b0 C'
			&.f:after
				content: '\00b0 F'
			&.k:after
				content: 'K'
